<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!-- Generated from input-type-image.th on 2003-05-03 16:29 BST -->
  <!-- with command: cd /hda6/home/pdc/th/tuschin/pdc/2003;
  /home/pdc/bin/thc -r /home/pdc/public_html/tuschin/ -s pdc/2003 input-type-image.th -->
  <!-- htmlProcs.tcl version 5.1.6 -->
  <head>
    <title>Picky Picky Game: HTML 4 versus REST - Alleged Literature</title>
    <link href="../pdc.css" rel="stylesheet" type="text/css" />
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
  </head>
  <body>
    <p class="trail">
      <a href="../..">Alleged Literature</a> &gt;&gt;
      <a href="../">pdc</a> &gt;&gt;
      <a href="./">2003</a> &gt;&gt;
      <strong>input-type-image</strong>
    </p>
    <div id="body">
      <h1>Picky Picky Game: HTML 4 versus REST</h1>

<p>
      <abbr title="Representation state transfer">REST</abbr> is
      largely based on using <abbr title="HyperText Transport
      Protocol">HTTP</abbr> as originally designed&mdash;which
      includes respecting the intended semantics of the methods
      <code>GET</code> and <code>POST</code> (basically, requests that
      add or change things should use <code>POST</code> and not
      <code>GET</code>; requests that view information without
      altering it should use <code>GET</code>, not <code>POST</code>).
      A flaw in the HTML 4 definition makes this annoyingly
      difficult.
      </p>
      <p>
      Imagine I am designing a poll.  I want each candidate to have a
      graphical button that registers a vote for that candidate.  My
      first stab at this was to make each of these a link wrapped in
      an <code>a</code> element, with a different URL for each one:
      </p>
      <blockquote><code>&lt;a href=&quot;votes?p=13"&gt;&lt;img
      src=&quot;candidate13.png" ... /&gt;&lt/a&gt;</code>
      </blockquote>
      <p>
      This is not REST, however, because votes change the state of the
      underlying resource, and so this operation should not use the
      method code <code>GET</code>.  To use <code>POST</code>,
      I must wrap the whole ballot in a <code>form</code> and
      create the voting buttons with <code>input</code> elements of
      type <code>image</code>:
      </p>
      <blockquote>
      <code>&lt;input type="image" name="p" value="13"
      src=&quot;candidate13.png" ... /&gt;</code>
      </blockquote>
      <p>
      They are distinguished by having
      different values for the attribute <code>value</code>.  This
      would work, except that graphical submit-buttons, unlike the
      other types of form item, do not send the value of
      <code>value</code> with the form.  Fuck.
      </p>
      <p>
      This leaves me with two annoying alternatives.  I can
      revert to abusing the <code>GET</code> method (which works but
      is non-REST), or else I can use JavaScript to make the image
      buttons do what they should have done in the first place.  Grr.
      </p>

<p><a href="04.html#e20030413">13 April 2003</a></p>
    </div>
    <dl class="links">
      <dt class="FirstChild">Archives</dt>
      <dd><a href="../2003/05-n.html">May 2003</a></dd>
      <dd><a href="../2003/04-n.html">April 2003</a></dd>
      <dd><a href="../2003/03-n.html">March 2003</a></dd>
      <dd><a href="../2003/02-n.html">February 2003</a></dd>
      <dd><a href="../2003/01-n.html">January 2003</a></dd>
      <dd><a href="../2002/">2002</a></dd>
      <dd><a href="../2001/">2001</a></dd>
      <dd><a href="../2000/">2000</a></dd>
      <dd><a href="../1999/">1999</a></dd>
      <dd><a href="../1998/">1998</a></dd>
      <dd><a href="../1997/">1997</a></dd>
      <dt>Entertainments</dt>
      <dd><a href="../tarot/">Alleged Tarot 2002</a></dd>
      <dd><a href="../2001/xmas-n.html">2001 Xmas card (SVG)</a></dd>
      <dd><a href="../how-tall-are-you/">How tall are you? quiz</a></dd>
      <dd><a href="http://caption.org/2000/pdc/">My Fabulous Life (2000)</a></dd>
      <dt>Photo albums</dt>
      <dd><a href="../2002/maymorning/">May Morning (2002)</a></dd>
      <dd><a href="../aviemore/">Aviemore (1999)</a></dd>
      <dd><a href="../bologna/">Bologna (1998)</a></dd>
      <dd><a href="../roch/">Roch Castle (1998)</a></dd>
      <dd><a href="http://caption.org/1997/pdc/">CAPTION97</a></dd>
      <dd><a href="http://caption.org/1996/pdc/">CAPTION96</a></dd>
      <dt>Stuff</dt>
      <dd><a href="../bike/">Bike</a></dd>
      <dd><a href="../wp/">Web Project</a></dd>
      <dd><a href="http://www.demon.co.uk/pdc/">Old Site</a></dd>
      <dd><a href="../muds/">MUDS (very old)</a></dd>
      <dd><a href="../pdc-n.html">About Damian</a></dd>
      <dt><a title="Link to an XML summary in RSS 2.0 format" href="../rss091.xml" type="text/xml">XML</a></dt>
      <dt><a title="Check this page for conformance to XHTML 1.0" href="http://validator.w3.org/check/referer">Valid XHTML 1.0!</a></dt>
    </dl>
  </body>
</html>

